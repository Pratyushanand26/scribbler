<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Meta data for SEO etc -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">

	<link rel="icon" href="images/logo2.png">
	<meta name="description"
		content="Scribbler: A notebook for experimenting in JavaScript. Play with html and javascript using simple interface (without servers and backend deployment). All the computation happens in your browser.">
	<script>global = globalThis</script>
	<title>JSNB: JavaScript Notebook</title>

	<!-- Codemirror for code box -->
	<script src="codemirror/codemirror.js"></script>
	<script src="codemirror/comment.js"></script>
	<script src="codemirror/continuecomment.js"></script>
	
	<link rel="stylesheet" href="codemirror/codemirror.css">
	<link rel="stylesheet" href="codemirror/cobalt.css">
	<link rel="stylesheet" href="codemirror/duotone-light.css">
	<link rel="stylesheet" href="codemirror/show-hint.css">

	<script src="codemirror/javascript.js"></script> <!--For styling javascript code -->
	<script src="codemirror/show-hint.js"></script> <!--For providing hints -->
	<script src="codemirror/javascript-hint.js"></script> <!--For JavaScript hints -->



	<!-- Controllers and libs -->
	<script> scrib = {};</script>
	<script src="js/libs.js"></script> <!-- libs for some functionality -->
	<script src="js/sandbox-controller.js"></script> <!-- Controls the UI -->
	<script src="js/web-worker.js"></script> <!-- Runs the user generated code -->
	<script src="js/worker-wrapper.js"></script> <!-- Runs the user generated code -->
	<script src="js/marked.min.js"></script> <!-- Convert Markdown to HTML -->
	<script src="js/sandbox-ai-controller.js"></script> <!-- Controls the UI -->

	<!-- Styling using pico.css and custom css -->
	<link rel="stylesheet" href="css/pico.min.css">
	<link rel="stylesheet" href="css/style.css">

	<!-- For opening links in the parent frame by default -->
	<base target="_parent">

</head>

<body style="height:100%">
	<span id="top"></span>

	<!-- Template code block. This html will be copied and udpated for each cell -->
	<div id="code_block_template" style="display:none">
		<div id="cell_menu_block_id" class="cell-menu">
			<select data-tooltip="Toggle between code and doc modes (Cmd/Ctrl+M)" data-placement="bottom"
				id="cell_type_block_id" style="height:15px;" class="cell-type">
				<option selected value="code">Code</option>
				<option value="html">Doc</option>
			</select>

			<a tabindex="0" data-tooltip="Run the cell: Cmd/Ctrl-Enter" data-placement="bottom" id="run-button_block_id"
				onclick="worker.run(_block_id)">
				<svg width="16" height="16"><use href="#icon-run-cell"></use></svg>
			</a>
			<a tabindex="0" data-tooltip="Move the cell up: Alt-D + Up arrow" data-placement="bottom"
				onclick="sandbox.moveUp(_block_id)">
				<svg width="16" height="16"><use href="#icon-uparrow"></use></svg>
			</a>
			<a tabindex="0" data-tooltip="Move the cell down: Alt-D + Down arrow" data-placement="bottom"
				onclick="sandbox.moveDown(_block_id)">
				<svg width="16" height="16"><use href="#icon-downarrow"></use></svg>
			</a>
			<a tabindex="0" data-tooltip="Add a cell below: Alt/Option-Enter" data-placement="bottom"
				onclick="sandbox.insertCell('code',_block_id)">
				<svg width="16" height="16"><use href="#icon-addcell"></use></svg>
			</a>
			<a tabindex="0" data-tooltip="Copy cell content" data-placement="bottom"
				onclick="sandbox.copyCell(_block_id)">
				<svg width="16" height="16"><use href="#icon-copycell"></use></svg>
			</a>
			<a tabindex="0" data-tooltip="Delete the cell: Alt/Option-D" data-placement="bottom"
				onclick="sandbox.deleteCell(_block_id)">
				<svg width="16" height="16"><use href="#icon-deletecell"></use></svg>
			</a>
		</div>

		<div id="input_block_id" tabindex='0' onfocusout="sandbox.unfocusEditor(_block_id)" class='code'>

		</div>
		<article 
		class="output-block"
		ondblclick="sandbox.toggleEditor(_block_id)" style="display:flex" id="result_block_id">
			<p class="status" id="status_block_id"></p>
			<div class="output" id="output_block_id"></div>
		</article>
	</div>
	<div class="container nb-content">
		<div class='' id='main'></div> <!-- All the cells go inside this div -->
	</div>
	<div id="bottom-button-container">
		<button id="add-bottom-cell" class="contrast" onclick="sandbox.insertCell('code', null)">
			<svg width="16" height="16" style="vertical-align: middle; margin-right: 4px;"><use href="#icon-insertcell"></use></svg> Insert Cell
		</button>
    </div>

</body>
<script>
	sandbox.initialize(); <!-- Load the notebook or insert an empty cell -->
</script>

<!-- Loading some libraries for power experience. Putting at the end so that these do not block rest of the UI. -->


<script src="https://cdn.plot.ly/plotly-2.16.1.min.js" async></script>
<script src="https://cdn.jsdelivr.net/gh/gopi-suvanam/di-libs/build/di-libs.js"></script>
<!-- <script type="module">
		import * as di from "../di-libs/src/index.js";
		window.random=di.random;
		
		window.di=di;
		
	</script> -->


<script id="libs-loaded">
	console.log("Pltly/DI libraries loaded");
</script>

<html-component data="./images/icons-sprite.html"></html-component>

  <!-- SVG Sprite with Icons -->

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <!-- Tabler Icons -->
 
<symbol id="icon-share" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
	<polyline points="15 3 21 3 21 9"></polyline>
	<line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>
  
  <symbol id="icon-play" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M5 3l14 9-14 9V3z"/>
  </symbol>
  
  <symbol id="icon-save" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
    <polyline points="17 21 17 13 7 13 7 21"/>
    <polyline points="7 3 7 8 15 8"/>
  </symbol>
  
  <symbol id="icon-reset" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21.5 2v6h-6M21.34 15.57a10 10 0 1 1-.57-8.38"/>
  </symbol>
  
  <symbol id="icon-sandbox" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
    <path d="M3 9h18M3 15h18M12 3v18"/>
  </symbol>
  
  <symbol id="icon-box-arrow-up" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 10h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V10z"></path>
    <path d="M12 15V3m0 0l-4 4m4-4l4 4"></path>
  </symbol>

  <symbol id="icon-run-cell" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<polygon points="5 3 19 12 5 21 5 3"></polygon>
  </symbol>

  <symbol id="icon-uparrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<line x1="12" y1="19" x2="12" y2="5"></line>
	<polyline points="5 12 12 5 19 12"></polyline>
  </symbol>

  <symbol id="icon-downarrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<line x1="12" y1="5" x2="12" y2="19"></line>
	<polyline points="19 12 12 19 5 12"></polyline>
  </symbol>

  <symbol id="icon-addcell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<circle cx="12" cy="12" r="10"></circle>
	<line x1="12" y1="8" x2="12" y2="16"></line>
	<line x1="8" y1="12" x2="16" y2="12"></line>
  </symbol>

  <symbol id="icon-copycell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
	<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
  </symbol>

  <symbol id="icon-deletecell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<polyline points="3 6 5 6 21 6"></polyline>
	<path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
  </symbol>

  <symbol id="icon-insertcell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<circle cx="12" cy="12" r="10"></circle>
	<line x1="12" y1="8" x2="12" y2="16"></line>
	<line x1="8" y1="12" x2="16" y2="12"></line>
  </symbol>
  
  <symbol id="icon-spinner" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <line x1="12" y1="2" x2="12" y2="6"></line>
    <line x1="12" y1="18" x2="12" y2="22"></line>
    <line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line>
    <line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line>
    <line x1="2" y1="12" x2="6" y2="12"></line>
    <line x1="18" y1="12" x2="22" y2="12"></line>
    <line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line>
    <line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>
  </symbol>

  <symbol id="icon-run-button" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<polygon points="5 3 19 12 5 21 5 3"></polygon>
  </symbol>

 </svg>




</html>