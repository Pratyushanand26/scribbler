<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Meta data for SEO etc -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">

	<link rel="icon" href="images/logo2.png">
	<meta name="description"
		content="Scribbler: A notebook for experimenting in JavaScript. Play with html and javascript using simple interface (without servers and backend deployment). All the computation happens in your browser.">
	<script>global = globalThis</script>
	<title>JSNB: JavaScript Notebook</title>

	<!-- Codemirror for code box -->
	<script src="codemirror/codemirror.js"></script>
	<script src="codemirror/comment.js"></script>
	<script src="codemirror/continuecomment.js"></script>
	
	<link rel="stylesheet" href="codemirror/codemirror.css">
	<link rel="stylesheet" href="codemirror/cobalt.css">
	<link rel="stylesheet" href="codemirror/duotone-light.css">
	<link rel="stylesheet" href="codemirror/show-hint.css">

	<script src="codemirror/javascript.js"></script> <!--For styling javascript code -->
	<script src="codemirror/show-hint.js"></script> <!--For providing hints -->
	<script src="codemirror/javascript-hint.js"></script> <!--For JavaScript hints -->



	<!-- Controllers and libs -->
	<script> scrib = {};</script>
	<script src="js/libs.js"></script> <!-- libs for some functionality -->
	<script src="js/sandbox-controller.js"></script> <!-- Controls the UI -->
	<script src="js/web-worker.js"></script> <!-- Runs the user generated code -->
	<script src="js/worker-wrapper.js"></script> <!-- Runs the user generated code -->
	<script src="js/marked.min.js"></script> <!-- Convert Markdown to HTML -->
	<script src="js/sandbox-ai-controller.js"></script> <!-- Controls the UI -->

	<!-- Styling using pico.css and custom css -->
	<link rel="stylesheet" href="css/pico.min.css">
	<link rel="stylesheet" href="css/style.css">

	<!-- For opening links in the parent frame by default -->
	<base target="_parent">

</head>

<body style="height:100%">
	<span id="top"></span>

	<!-- Template code block. This html will be copied and udpated for each cell -->
	<div id="code_block_template" style="display:none">
		<div id="cell_menu_block_id" class="cell-menu">
			<select data-tooltip="Toggle between code and doc modes (Cmd/Ctrl+M)" data-placement="bottom"
				id="cell_type_block_id" style="height:15px;" class="cell-type">
				<option selected value="code">Code</option>
				<option value="html">Doc</option>
			</select>

			<a tabindex="0" data-tooltip="Run the cell: Cmd/Ctrl-Enter" data-placement="bottom" id="run-button_block_id"
				onclick="worker.run(_block_id)">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<polygon points="5 3 19 12 5 21 5 3"></polygon>
				</svg>
			</a>
			<a tabindex="0" data-tooltip="Move the cell up: Alt-D + Up arrow" data-placement="bottom"
				onclick="sandbox.moveUp(_block_id)">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<line x1="12" y1="19" x2="12" y2="5"></line>
					<polyline points="5 12 12 5 19 12"></polyline>
				</svg>
			</a>
			<a tabindex="0" data-tooltip="Move the cell down: Alt-D + Down arrow" data-placement="bottom"
				onclick="sandbox.moveDown(_block_id)">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<line x1="12" y1="5" x2="12" y2="19"></line>
					<polyline points="19 12 12 19 5 12"></polyline>
				</svg>
			</a>
			<a tabindex="0" data-tooltip="Add a cell below: Alt/Option-Enter" data-placement="bottom"
				onclick="sandbox.insertCell('code',_block_id)">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<circle cx="12" cy="12" r="10"></circle>
					<line x1="12" y1="8" x2="12" y2="16"></line>
					<line x1="8" y1="12" x2="16" y2="12"></line>
				</svg>
			</a>
			<a tabindex="0" data-tooltip="Copy cell content" data-placement="bottom"
				onclick="sandbox.copyCell(_block_id)">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
					<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
				</svg>
			</a>
			<a tabindex="0" data-tooltip="Delete the cell: Alt/Option-D" data-placement="bottom"
				onclick="sandbox.deleteCell(_block_id)">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<polyline points="3 6 5 6 21 6"></polyline>
					<path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
				</svg>
			</a>
		</div>

		<div id="input_block_id" tabindex='0' onfocusout="sandbox.unfocusEditor(_block_id)" class='code'>

		</div>
		<article 
		class="output-block"
		ondblclick="sandbox.toggleEditor(_block_id)" style="display:flex" id="result_block_id">
			<p class="status" id="status_block_id"></p>
			<div class="output" id="output_block_id"></div>
		</article>
	</div>
	<div class="container nb-content">
		<div class='' id='main'></div> <!-- All the cells go inside this div -->
	</div>
	<div id="bottom-button-container">
		<button id="add-bottom-cell" class="contrast" onclick="sandbox.insertCell('code', null)">
			<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 4px;">
				<circle cx="12" cy="12" r="10"></circle>
				<line x1="12" y1="8" x2="12" y2="16"></line>
				<line x1="8" y1="12" x2="16" y2="12"></line>
			</svg> Insert Cell
		</button>
    </div>

</body>
<script>
	sandbox.initialize(); <!-- Load the notebook or insert an empty cell -->
</script>

<!-- Loading some libraries for power experience. Putting at the end so that these do not block rest of the UI. -->


<script src="https://cdn.plot.ly/plotly-2.16.1.min.js" async></script>
<script src="https://cdn.jsdelivr.net/gh/gopi-suvanam/di-libs/build/di-libs.js"></script>
<!-- <script type="module">
		import * as di from "../di-libs/src/index.js";
		window.random=di.random;
		
		window.di=di;
		
	</script> -->

<script id="libs-loaded">
	console.log("Pltly/DI libraries loaded");
</script>


</html>