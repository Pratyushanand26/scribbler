<!DOCTYPE html>
<html style="height:100%"  lang="en" >
	<head>
		<!-- Meta data for SEO etc -->
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta name="fragment" content="!">

		<link rel="icon"  href="favicon.ico">
		<link rel="manifest" href="/manifest.json">

		<meta name="description" content="Scribbler is a JavaScript online compiler, notebook for experimenting in JavaScript. Play with html and javascript using simple interface (without servers and backend deployment). All the computation happens in your browser.">
		<script>global=globalThis</script>
		<title>Scribbler: Online JavaScript Compiler and Notebook</title>

		<!-- Styling using pico.css and custom css -->
		<link rel="stylesheet" href="css/pico.min.css">
		<link rel="stylesheet" href="css/style.css">

		<!-- Controllers and libs -->
		<script src="js/libs.js"></script> <!-- libs for some functionality -->
		<script src="js/controller.js"></script> <!-- Controls the UI -->
		<script src="js/github.js"></script> <!-- Functions for pushing and pulling from/to Github -->
		<script src="js/local-storage.js"></script> <!-- Functions for storing and retreiving JSNBs in indexddb -->
		<script src="js/modal.js"></script> <!-- Modal/popup handling -->
		<script src="js/ai-coder.js"></script> <!-- Handling AI coding using WebLLM -->
		<script src="js/marked.min.js"></script> <!-- Convert Markdown to HTML -->
		<script src="js/api-wrapper.js"></script> <!-- Convert Markdown to HTML -->

	
	</head>
  <body style="height:100%" >

 <div id="splash-screen">
  <img src="images/brand_logo_2.gif" alt="Loading..." class="splash-gif">
</div>


	<html-component data="components/header.html"></html-component>
	<html-component data="components/ai-message.html"></html-component>
	
	
	<iframe id="sandbox" src="sandbox.html" sandbox="allow-scripts allow-downloads allow-top-navigation allow-popups allow-modals" style="width:100%;height:100%" ></iframe>
	
	<html-component data="components/footer.html"></html-component>
    <html-component data="components/git-import-export.html"></html-component>
	<html-component data="components/options-dialogue.html"></html-component>
	<html-component data="components/local-files.html"></html-component>
	<html-component data="components/share-notebook-dialogue.html"></html-component>
	<html-component data="components/chatbot.html"></html-component>
	
	
  </body>
  <script>
  	insitialize_page(); <!-- Load the keyboard shortcuts and initialization scripts -->
  </script>

  <!-- Hide splash screen after delay -->

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    setTimeout(() => {
      const splash = document.getElementById("splash-screen");
      if (splash) splash.style.display = "none";
    }, 2500); // 2.5 seconds splash duration
  });
</script>


	  <!-- Google Analytics for Understanding Usage -->
	<script  src="https://www.googletagmanager.com/gtag/js?id=G-45Z12S039Z" async></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-45Z12S039Z');
	</script>
	<script>
    // console.log("here");
    function waitForHamburger() {
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('nav-menu');
        
        if (hamburger && navMenu) {
            // console.log("Hamburger and nav-menu found");
            hamburger.addEventListener('click', function () {
                // console.log("clicked");
                this.classList.toggle('active');
                navMenu.classList.toggle('active');
            });

            // Close the menu when clicking outside
            document.addEventListener('click', function (event) {
                if (!navMenu.contains(event.target) && !hamburger.contains(event.target)) {
                    navMenu.classList.remove('active');
                    hamburger.classList.remove('active');
                }
            });
            // console.log("Waiting for hamburger...");
            setTimeout(waitForHamburger, 100); 
        }
    }
    document.addEventListener('DOMContentLoaded', waitForHamburger);
  </script>
  <!-- SVG Sprite with Icons -->
  <div style="display: none;">
    <object type="image/svg+xml" data="images/icons-sprite.svg"></object>
  </div>
  <!-- Chatbot logic -->
  <script src="js/ai-chatbot.js"></script>

</html>